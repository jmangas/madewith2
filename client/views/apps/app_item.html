<template name="appItem">
  <div class="app {{sourceClass}}"><div class="app-content">
          {{> appTitleLine}}
          {{#if hasDescript}}
      		  <p><span>{{description}}</span></p>
          {{/if}}
          {{> appDetailsLine}}
  </div></div>
</template>

<template name="appItemshort">
  <div class="app {{sourceClass}}"><div class="app-content">
    {{> appTitleLine}}
    {{> appDetailsLine}}
  </div></div>
</template>

<template name="upvoteButton">
  <a href="#" class="upvote btn btn-link btn-lg {{upvotedClass}}" role="button"><i class="ion-arrow-up-b"></i></a>
</template>

<template name="appTitleLine">
  <p><h3>{{> upvoteButton}}<a href="{{url}}">{{title}}</a><span>({{domain}})</span></h3></p>
</template>

<template name="appDetailsLine">
  {{#if hasPkgs}}
    Packages: {{getMyPkgs}}
  {{/if}}
  <p>{{votes}} {{voteText}} by {{author}} {{timeago baseDate}} </small> 
    <span class="icons">
    {{#if ownApp}}
      {{#with pathContext}}
        <a href="{{ pathFor 'appEdit' }}"><i class="ion-compose" style="font-size:24px;color:#1921b1"></i></a>  
      {{/with}}
    {{/if}}
      
    {{#if hasSource}}
      <a href="{{source}}"><i class="ion-social-github" style="font-size:24px; color:#ff6080"></i></a>  
    {{/if}}
    </span>
    
      {{#with pathContext}}
        <a href="{{ pathFor 'appPage' }}"><i class="ion-chatboxes"  style="font-size:24px;color:#1921b1"></i>
          {{#with ..}}
            {{commentLinkText}}
          {{/with}}
        </a>
      {{/with}}
    </small>
  </p>
  {{# if debugmode}}
    <p>_</p>
    <p><u>Debug Mode stuff:</u></p>
    <p>Score:{{score}}</p>
    <p>votecache:{{votecache}}</p>
    <p>currentVoteValue:{{currentVoteValue}}</p>
    <p>_id: {{appID}}</p>
  {{/if}}
</template>
